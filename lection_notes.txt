globalThis has no index signature TS Error

In the upcoming lecture (and later with the ticketing, orders and payments services) you may end up seeing a TS error like this in your test/setup.ts file:

Element implicitly has an 'any' type because type 'typeof globalThis' has no index signature.ts(7017)

To fix, find the following lines of code in src/test/setup.ts:

    declare global {
      namespace NodeJS {
        export interface Global {
          signin(): Promise<string[]>;
        }
      }
    }

change to:

        declare global {
          var signin: () => Promise<string[]>;
        }


### Suggestion Regarding a Default Export Warning

In the upcoming lecture, we will create our first components and run the Next server. You may see a warning in the terminal or browser console:

Anonymous arrow functions cause Fast Refresh to not preserve local component state.

Please add a name to your function, for example:

Before

export default () => <div />;

After

const Named = () => <div />;

export default Named;

This is a linter warning as of React v17 letting us know that it might be wise to use named exports instead.

You can suppress the warning by refactoring from this:

    export default () => {
      return <h1>Landing Page</h1>;
    };

to this:

    const Landing = () => {
      return <h1>Landing Page</h1>;
    };
     
    export default Landing;

The warning will come up a few more times in this project (and throughout the course) when creating components and can be handled similarly.

### Small Update for Custom Webpack Config

In the upcoming lecture, we will be creating a next.config.js file and adding some configuration to it. The latest versions of Next.js use a newer version of Webpack which moves watchOptions out from webpackDevMiddleware.

So, the next.config.js file should now look like this:

    module.exports = {
      webpack: (config) => {
        config.watchOptions.poll = 300;
        return config;
      },
    };


Note - If you are using the Next.js / React app and versions from the course resources this change does not apply.